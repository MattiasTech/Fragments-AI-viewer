import{cm as a,co as e,cD as O,cs as N,cB as ge,cF as Ue,cp as x,cq as f,cG as qe,cH as we,cI as Xe,cN as Je,cO as je,cr as I,cy as T,dh as Ye,cV as Ke,d2 as se,d4 as Qe,d5 as te,d6 as le,di as Ze,dj as es,dk as R,cE as ss,dl as Ie,dm as ye,dn as ts,dp as be,cP as ls,cn as as,dq as ns,dr as Se,ds as Ce,dt as is,cQ as os,du as rs,dv as cs,dw as Pe,dx as ve,d7 as $,dy as ds,cJ as us}from"./vendor-CgTU62Zb.js";import{u as hs,a as y,i as xs}from"./index-B-Ar7-if.js";import"./thatopen-vendor-NKp5mY5i.js";import"./three-vendor-kQcUiZz9.js";const v=o=>{if(o==null)return"";const m=/[",\n]/.test(o),h=o.replace(/"/g,'""');return m?`"${h}"`:h},Le=o=>new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),Re=(o,m)=>{const{includePassed:h=!0,includeNA:t=!0}=m??{},D=o.filter(r=>r.status==="FAILED"?!0:r.status==="PASSED"?h:r.status==="NA"?t:!0),B="RuleId,RuleTitle,Status,GlobalId,IfcClass,Property,Expected,Actual,Reason",V=D.map(r=>[v(r.ruleId),v(r.ruleTitle),v(r.status),v(r.globalId),v(r.ifcClass),v(r.propertyPath),v(r.expected),v(r.actual),v(r.reason)].join(",")),E=[B,...V].join(`\r
`);return new Blob([E],{type:"text/csv;charset=utf-8;"})},fs=`<ids:ids xmlns:ids="http://standards.buildingsmart.org/IDS">
  <ids:specification ifcVersion="IFC4" name="Walls must have FireRating">
    <ids:applicability minOccurs="0" maxOccurs="unbounded">
      <ids:entity>
        <ids:name>
          <ids:simpleValue>IFCWALL</ids:simpleValue>
        </ids:name>
      </ids:entity>
    </ids:applicability>
    <ids:requirements>
      <ids:property cardinality="required">
        <ids:propertySet>
          <ids:simpleValue>Pset_WallCommon</ids:simpleValue>
        </ids:propertySet>
        <ids:baseName>
          <ids:simpleValue>FireRating</ids:simpleValue>
        </ids:baseName>
      </ids:property>
    </ids:requirements>
  </ids:specification>
  <ids:specification ifcVersion="IFC4" name="Pipes must be insulated">
    <ids:applicability minOccurs="0" maxOccurs="unbounded">
      <ids:entity>
        <ids:name>
          <ids:simpleValue>IFCFLOWSEGMENT</ids:simpleValue>
        </ids:name>
      </ids:entity>
    </ids:applicability>
    <ids:requirements>
      <ids:property cardinality="required">
        <ids:propertySet>
          <ids:simpleValue>Insulation</ids:simpleValue>
        </ids:propertySet>
        <ids:baseName>
          <ids:simpleValue>Insulation Type</ids:simpleValue>
        </ids:baseName>
        <ids:allowedValues>
          <ids:values>
            <ids:value>
              <ids:simpleValue>-V19</ids:simpleValue>
            </ids:value>
            <ids:value>
              <ids:simpleValue>Mineral Wool</ids:simpleValue>
            </ids:value>
          </ids:values>
        </ids:allowedValues>
      </ids:property>
    </ids:requirements>
  </ids:specification>
</ids:ids>`,ms={PASSED:"success.light",FAILED:"error.light",NA:"warning.light"},ps={PASSED:"Passed",FAILED:"Failed",NA:"N/A"},gs={IDLE:"Idle",BUILDING_PROPERTIES:"Collecting element data",CHECKING_IDS:"Compiling IDS rules",COMPARING_DATA:"Validating elements",FINALIZING:"Finalizing report",DONE:"Done",ERROR:"Error"},js={IDLE:"default",BUILDING_PROPERTIES:"info",CHECKING_IDS:"primary",COMPARING_DATA:"warning",FINALIZING:"secondary",DONE:"success",ERROR:"error"},G=(o,m=2e3)=>{const h=[];for(let t=0;t<o.length;t+=m)h.push(o.slice(t,t+m));return h},X=(o,m)=>{const h=URL.createObjectURL(o),t=document.createElement("a");t.href=h,t.download=m,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(h)},Is=({rows:o,height:m=360,rowHeight:h=44,onRowClick:t})=>{const D=a.useRef(null),[B,V]=a.useState(0),E=o.length*h,r=6,M=Math.ceil(m/h)+r,k=Math.max(0,Math.floor(B/h)-r),J=Math.min(o.length,k+M),b=o.slice(k,J),z=a.useCallback(()=>{const l=D.current;l&&V(l.scrollTop)},[]);return a.useEffect(()=>{const l=D.current;if(l)return l.addEventListener("scroll",z,{passive:!0}),()=>l.removeEventListener("scroll",z)},[z]),e.jsx(x,{ref:D,sx:{position:"relative",height:m,overflowY:"auto",border:"1px solid",borderColor:"divider",borderRadius:1,backgroundColor:"background.paper"},children:e.jsx(x,{sx:{height:E,position:"relative"},children:b.map((l,H)=>{const A=(k+H)*h;return e.jsxs(x,{sx:{position:"absolute",top:A,left:0,right:0,height:h,display:"flex",alignItems:"center",gap:1,px:1.5,borderBottom:"1px solid",borderColor:"divider",backgroundColor:ms[l.status]??"background.paper",cursor:typeof t=="function"?"pointer":"default","&:hover":{backgroundColor:"action.hover"}},onClick:()=>t?.(l),children:[e.jsx(R,{label:ps[l.status],size:"small",color:l.status==="FAILED"?"error":l.status==="PASSED"?"success":"warning"}),e.jsx(f,{variant:"body2",sx:{minWidth:120,fontWeight:600},title:l.ruleId,children:l.ruleId}),e.jsx(f,{variant:"body2",sx:{flex:1},noWrap:!0,title:l.ruleTitle,children:l.ruleTitle}),e.jsx(f,{variant:"body2",sx:{minWidth:140},noWrap:!0,title:l.globalId,children:l.globalId}),e.jsx(f,{variant:"body2",sx:{minWidth:110},noWrap:!0,title:l.ifcClass,children:l.ifcClass}),e.jsx(f,{variant:"body2",sx:{minWidth:180},noWrap:!0,title:l.propertyPath,children:l.propertyPath??"—"}),e.jsx(f,{variant:"body2",sx:{minWidth:160},noWrap:!0,title:l.expected,children:l.expected??"—"}),e.jsx(f,{variant:"body2",sx:{minWidth:160},noWrap:!0,title:l.actual,children:l.actual??"—"}),e.jsx(f,{variant:"body2",sx:{minWidth:220},noWrap:!0,title:l.reason,children:l.reason??"—"})]},`${l.ruleId}-${l.globalId}-${H}`)})})})},Ps=({isOpen:o,onOpen:m,onClose:h,viewerApi:t,hasModel:D,expandSignal:B})=>{const V=a.useRef(null),E=a.useRef(null),[r,M]=a.useState(!1),[k,J]=a.useState({width:620,height:560}),b=a.useRef(null),z=a.useRef(!1),{setIdsXmlText:l,appendDocuments:H,clearResults:A,runCheck:ae,filterRows:Y,setValidationMode:ne,cancelValidation:De}=hs(),Ee=y(s=>s.idsXmlText),ie=y(s=>s.idsFileNames),oe=y(s=>s.isChecking),S=y(s=>s.phase),L=y(s=>s.progress),F=y(s=>s.rules),_=y(s=>s.rows),p=y(s=>s.filteredRows),re=y(s=>s.error),ke=y(s=>s.validationMode),[K,Q]=a.useState("summary"),[Z,ce]=a.useState(""),[U,de]=a.useState("ALL"),[q,ue]=a.useState("ALL");a.useEffect(()=>{xs.clearOldCache().catch(s=>{console.warn("Failed to clean old cache:",s)})},[]);const g=a.useMemo(()=>({popper:{sx:{zIndex:4e3}}}),[]),ee=a.useMemo(()=>F.reduce((s,n)=>(s.pass+=n.passed.length,s.fail+=n.failed.length,s.na+=n.na.length,s),{pass:0,fail:0,na:0}),[F]),ze=S!=="IDLE",Fe=gs[S],Ne=js[S];let w="indeterminate",W,j;if(S==="DONE")w="determinate",W=100,j="Complete";else if(S==="ERROR")w="determinate",W=0,j="Failed";else if(L&&L.total>0){const s=Math.min(L.done,L.total);w="determinate",W=Math.max(0,Math.min(s/L.total*100,100)),S==="BUILDING_PROPERTIES"?j=`Collecting element data: ${Math.round(W)}% (${s.toLocaleString()} / ${L.total.toLocaleString()} elements)`:S==="COMPARING_DATA"?j=`Validating: ${Math.round(W)}% (${s.toLocaleString()} / ${L.total.toLocaleString()} elements)`:j=`${s.toLocaleString()} / ${L.total.toLocaleString()}`}else oe&&(S==="BUILDING_PROPERTIES"?j="Starting element data collection…":S==="COMPARING_DATA"?j="Validating elements…":j="Working…");const Te=w==="determinate"?{variant:"determinate",value:W??0}:{variant:"indeterminate"},Ve=!!Ee.trim().length,Me=a.useCallback(async s=>{const n=Array.from(s.target.files??[]);if(!n.length)return;const u=await Promise.all(n.map(i=>new Promise((c,C)=>{const d=new FileReader;d.onload=()=>c({name:i.name,content:String(d.result??"")}),d.onerror=()=>C(d.error??new Error("Failed to read IDS file.")),d.readAsText(i)})));H(u),s.target.value=""},[H]),Ae=a.useCallback(()=>{l(fs.trim(),{fileNames:["Sample IDS"]}),A()},[l,A]),We=a.useCallback(()=>{l("",{fileNames:[]}),A()},[l,A]),Oe=a.useCallback(s=>{ne(s.target.value)},[ne]),$e=a.useCallback(async()=>{t&&(await ae(t),Q("summary"))},[ae,t]),Be=a.useCallback(async()=>{if(t)try{typeof t.clearColors=="function"&&await Promise.resolve(t.clearColors()),typeof t.clearIsolation=="function"&&await Promise.resolve(t.clearIsolation())}catch(s){console.warn("Failed to clear IDS highlights on close",s)}M(!1),h()},[t,h]);a.useEffect(()=>{o||(M(!1),Q("summary"))},[o]),a.useEffect(()=>{o&&M(!1)},[B,o]);const he=a.useCallback(()=>{if(!_.length){Y(null);return}const s=Z.trim().toLowerCase(),n=U==="ALL"?null:U,u=q==="ALL"?null:q;Y(i=>n&&i.status!==n||u&&i.ruleId!==u?!1:s?[i.globalId,i.ifcClass,i.propertyPath,i.expected,i.actual,i.reason,i.ruleTitle].filter(Boolean).join(" ").toLowerCase().includes(s):!0)},[_,Z,U,q,Y]);a.useEffect(()=>{const s=window.setTimeout(()=>{he()},120);return()=>window.clearTimeout(s)},[he]);const He=a.useCallback(async s=>{if(!t)return;const n=Array.from(new Set(s.failed)),u=Array.from(new Set(s.passed)),i=n.length?n:u;console.debug(`[handleRuleHighlight] Highlighting rule: ${s.title} (failed=${n.length}, passed=${u.length})`);try{await Promise.resolve(t.clearColors()),t.clearIsolation&&await Promise.resolve(t.clearIsolation())}catch(c){console.warn("Failed to reset viewer colors before highlighting rule",c)}try{if(typeof t.color=="function"){for(const c of G(n))c.length&&await Promise.resolve(t.color(c,{r:1,g:.2,b:.2,a:1}));for(const c of G(u))c.length&&await Promise.resolve(t.color(c,{r:.2,g:.7,b:.25,a:1}))}i.length&&(typeof t.isolate=="function"&&await Promise.resolve(t.isolate(i)),typeof t.fitViewTo=="function"&&await Promise.resolve(t.fitViewTo(i)))}catch(c){console.error("Failed to highlight IDS rule",c)}},[t]);a.useCallback(async()=>{if(!t)return;const s=new Set,n=new Set,u=new Set;for(const d of F)d.passed.forEach(P=>s.add(P)),d.failed.forEach(P=>n.add(P)),d.na.forEach(P=>u.add(P));const i=Array.from(s),c=Array.from(n),C=Array.from(u);try{if(await Promise.resolve(t.clearColors()),t.clearIsolation&&await Promise.resolve(t.clearIsolation()),typeof t.color=="function"){if(c.length>0)for(const d of G(c))d.length&&await Promise.resolve(t.color(d,{r:1,g:.2,b:.2,a:1}));if(i.length>0)for(const d of G(i))d.length&&await Promise.resolve(t.color(d,{r:.2,g:.7,b:.25,a:1}));if(C.length>0)for(const d of G(C))d.length&&await Promise.resolve(t.color(d,{r:1,g:.7,b:.2,a:1}))}console.log(`Highlighted ${i.length} passed, ${c.length} failed, ${C.length} N/A elements`)}catch(d){console.error("Failed to highlight all elements by status",d)}},[t,F]);const _e=a.useCallback(async s=>{if(!(!t||!s.globalId))try{typeof t.clearColors=="function"&&await Promise.resolve(t.clearColors()),typeof t.clearIsolation=="function"&&await Promise.resolve(t.clearIsolation()),typeof t.color=="function"&&await Promise.resolve(t.color([s.globalId],{r:1,g:.6,b:0,a:1})),typeof t.isolate=="function"&&await Promise.resolve(t.isolate([s.globalId])),typeof t.fitViewTo=="function"&&await Promise.resolve(t.fitViewTo([s.globalId]))}catch(n){console.error("Failed to focus element for IDS row",n)}},[t]),xe=a.useCallback((s,n)=>{const u=_.filter(C=>C.ruleId===s.id);if(!u.length)return;const i=new Date().toISOString().replace(/[:.]/g,"-"),c=`ids-rule-${s.id}-${i}`;n==="csv"?X(Re(u,{includePassed:!0,includeNA:!0}),`${c}.csv`):X(Le(u),`${c}.json`)},[_]),fe=a.useCallback(s=>{if(!p.length)return;const u=`ids-details-${new Date().toISOString().replace(/[:.]/g,"-")}`;s==="csv"?X(Re(p,{includePassed:!0,includeNA:!0}),`${u}.csv`):X(Le(p),`${u}.json`)},[p]),Ge=a.useCallback(s=>{s.preventDefault(),s.stopPropagation();const n=E.current;if(!n)return;b.current={startX:s.clientX,startY:s.clientY,width:n.offsetWidth,height:n.offsetHeight},z.current=!0;const u=c=>{if(!z.current||!b.current)return;const C=c.clientX-b.current.startX,d=c.clientY-b.current.startY;J(P=>{const me=Math.max(420,b.current.width+C),pe=Math.max(360,b.current.height+d);return me===P.width&&pe===P.height?P:{width:Math.round(me),height:Math.round(pe)}})},i=()=>{z.current=!1,b.current=null,window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",i)};window.addEventListener("pointermove",u),window.addEventListener("pointerup",i,{once:!0})},[]);return a.useEffect(()=>{if(o)return()=>{t?.clearColors?.(),t?.clearIsolation?.()}},[o,t]),o?e.jsx(Ue,{nodeRef:E,handle:".ids-panel-header",bounds:"parent",children:e.jsxs(O,{ref:E,elevation:8,sx:{position:"fixed",top:140,right:60,width:k.width,height:r?"auto":k.height,minWidth:420,minHeight:r?120:360,maxWidth:"90vw",maxHeight:"85vh",display:"flex",flexDirection:"column",boxSizing:"border-box",overflow:"hidden",zIndex:2e3},children:[e.jsxs(x,{className:"ids-panel-header",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,backgroundColor:"primary.main",color:"primary.contrastText",cursor:"move"},children:[e.jsx(f,{variant:"subtitle1",children:"IDS Checker"}),e.jsxs(x,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(N,{size:"small",onClick:()=>M(s=>!s),color:"inherit",title:r?"Expand panel":"Minimize panel",children:r?e.jsx(qe,{}):e.jsx(we,{})}),e.jsx(N,{size:"small",onClick:Be,color:"inherit",title:"Close IDS Checker",children:e.jsx(Xe,{})})]})]}),!r&&e.jsxs(x,{sx:{flex:1,display:"flex",flexDirection:"column",p:2,gap:2,minHeight:0},children:[e.jsxs(Je,{value:K,onChange:(s,n)=>Q(n),sx:{minHeight:"auto",".MuiTab-root":{minHeight:"auto",textTransform:"none"}},children:[e.jsx(je,{value:"summary",label:"Summary"}),e.jsx(je,{value:"details",label:`Details (${p.length})`})]}),K==="summary"&&e.jsxs(x,{sx:{display:"flex",flexDirection:"column",gap:2,overflow:"hidden",minHeight:0},children:[e.jsxs(x,{sx:{display:"flex",gap:1,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(I,{title:"Load IDS definition files",slotProps:g,children:e.jsx(T,{variant:"contained",size:"small",startIcon:e.jsx(Ye,{}),onClick:()=>V.current?.click(),children:"Load IDS File"})}),e.jsx(I,{title:"Insert a sample IDS specification",slotProps:g,children:e.jsx(T,{variant:"outlined",size:"small",onClick:Ae,children:"Paste Sample"})}),e.jsx(I,{title:"Clear loaded IDS files and results",slotProps:g,children:e.jsx(T,{variant:"outlined",size:"small",color:"inherit",startIcon:e.jsx(Ke,{}),onClick:We,children:"Clear"})}),e.jsx("input",{ref:V,type:"file",accept:".xml,.ids",multiple:!0,style:{display:"none"},onChange:Me}),e.jsx(x,{sx:{flex:1}}),e.jsx(se,{component:"fieldset",size:"small",children:e.jsxs(Qe,{row:!0,value:ke,onChange:Oe,children:[e.jsx(te,{value:"all",control:e.jsx(le,{size:"small"}),label:"All Elements"}),e.jsx(te,{value:"visible",control:e.jsx(le,{size:"small"}),label:"Visible Only"}),e.jsx(te,{value:"selected",control:e.jsx(le,{size:"small"}),label:"Selected Only"})]})}),e.jsx(I,{title:"Validate the loaded model against IDS requirements",slotProps:g,children:e.jsx("span",{children:oe?e.jsx(T,{variant:"outlined",size:"small",color:"error",startIcon:e.jsx(Ze,{}),onClick:De,children:"Cancel"}):e.jsx(T,{variant:"contained",size:"small",startIcon:e.jsx(es,{}),disabled:!Ve||!t||!D,onClick:$e,children:"Run Check"})})})]}),ze&&e.jsxs(O,{variant:"outlined",sx:{p:1.5,display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(x,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,flexWrap:"wrap"},children:[e.jsx(R,{size:"small",label:Fe,color:Ne}),j&&e.jsx(f,{variant:"caption",color:"text.secondary",children:j})]}),e.jsx(ss,{...Te,sx:{height:6,borderRadius:9999}})]}),ie.length>0&&e.jsxs(O,{variant:"outlined",sx:{p:1},children:[e.jsx(f,{variant:"caption",color:"text.secondary",children:"Loaded IDS files"}),e.jsx(Ie,{dense:!0,children:ie.map(s=>e.jsxs(ye,{disablePadding:!0,children:[e.jsx(ts,{sx:{minWidth:28},children:e.jsx(ge,{fontSize:"small"})}),e.jsx(be,{primaryTypographyProps:{variant:"body2"},primary:s})]},s))})]}),re&&e.jsx(ls,{severity:"error",variant:"outlined",children:re}),e.jsxs(x,{sx:{display:"flex",gap:1},children:[e.jsx(R,{label:`Passed ${ee.pass}`,color:"success",variant:"outlined"}),e.jsx(R,{label:`Failed ${ee.fail}`,color:"error",variant:"outlined"}),e.jsx(R,{label:`N/A ${ee.na}`,color:"warning",variant:"outlined"})]}),e.jsx(O,{variant:"outlined",sx:{flex:1,overflow:"auto"},children:F.length===0?e.jsx(x,{sx:{p:2},children:e.jsx(f,{variant:"body2",color:"text.secondary",children:"Load one or more IDS XML files and run the check to see rule results."})}):e.jsx(Ie,{dense:!0,disablePadding:!0,children:F.map(s=>e.jsxs(as.Fragment,{children:[e.jsx(ye,{secondaryAction:e.jsxs(x,{sx:{display:"flex",gap:1},children:[e.jsx(I,{title:"Highlight in viewer",slotProps:g,children:e.jsx("span",{children:e.jsx(N,{size:"small",onClick:()=>He(s),children:e.jsx(ns,{fontSize:"small"})})})}),e.jsx(I,{title:"Export rule CSV",slotProps:g,children:e.jsx("span",{children:e.jsx(N,{size:"small",onClick:()=>xe(s,"csv"),children:e.jsx(Se,{fontSize:"small"})})})}),e.jsx(I,{title:"Export rule JSON",slotProps:g,children:e.jsx("span",{children:e.jsx(N,{size:"small",onClick:()=>xe(s,"json"),children:e.jsx(Ce,{fontSize:"small"})})})})]}),children:e.jsx(be,{primary:e.jsxs(x,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[e.jsx(f,{variant:"subtitle2",children:s.title}),e.jsx(R,{size:"small",label:`Pass ${s.passed.length}`,color:"success"}),e.jsx(R,{size:"small",label:`Fail ${s.failed.length}`,color:"error"}),e.jsx(R,{size:"small",label:`N/A ${s.na.length}`,color:"warning"})]}),secondary:e.jsxs(f,{variant:"caption",color:"text.secondary",children:["Rule ID: ",s.id]})})}),e.jsx(is,{component:"li"})]},s.id))})})]}),K==="details"&&e.jsxs(x,{sx:{display:"flex",flexDirection:"column",gap:1.5,flex:1,minHeight:0},children:[e.jsxs(x,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[e.jsx(os,{size:"small",value:Z,onChange:s=>ce(s.target.value),placeholder:"Search details…",InputProps:{startAdornment:e.jsx(rs,{position:"start",children:e.jsx(cs,{fontSize:"small"})})},sx:{flex:1,minWidth:160}}),e.jsxs(se,{size:"small",sx:{minWidth:120},children:[e.jsx(Pe,{children:"Status"}),e.jsxs(ve,{value:U,label:"Status",onChange:s=>de(s.target.value),MenuProps:{sx:{zIndex:4e3}},children:[e.jsx($,{value:"ALL",children:"All"}),e.jsx($,{value:"FAILED",children:"Failed"}),e.jsx($,{value:"PASSED",children:"Passed"}),e.jsx($,{value:"NA",children:"N/A"})]})]}),e.jsxs(se,{size:"small",sx:{minWidth:160},children:[e.jsx(Pe,{children:"Rule"}),e.jsxs(ve,{value:q,label:"Rule",onChange:s=>ue(s.target.value),MenuProps:{sx:{zIndex:4e3}},children:[e.jsx($,{value:"ALL",children:"All rules"}),F.map(s=>e.jsx($,{value:s.id,children:s.title},s.id))]})]}),e.jsx(I,{title:"Reset filters",slotProps:g,children:e.jsx("span",{children:e.jsx(N,{size:"small",onClick:()=>{ue("ALL"),de("ALL"),ce("")},children:e.jsx(ds,{fontSize:"small"})})})}),e.jsx(x,{sx:{flex:1}}),e.jsx(I,{title:"Download the filtered results as CSV",slotProps:g,children:e.jsx("span",{children:e.jsx(T,{variant:"outlined",size:"small",startIcon:e.jsx(Se,{}),onClick:()=>fe("csv"),disabled:!p.length,children:"Export CSV"})})}),e.jsx(I,{title:"Download the filtered results as JSON",slotProps:g,children:e.jsx("span",{children:e.jsx(T,{variant:"outlined",size:"small",startIcon:e.jsx(Ce,{}),onClick:()=>fe("json"),disabled:!p.length,children:"Export JSON"})})})]}),e.jsxs(x,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(us,{fontSize:"small",color:"action"}),e.jsxs(f,{variant:"body2",color:"text.secondary",children:["Showing ",p.length," of ",_.length," rows"]})]}),p.length===0?e.jsx(O,{variant:"outlined",sx:{p:2},children:e.jsx(f,{variant:"body2",color:"text.secondary",children:"Adjust the filters or run the IDS check to populate detailed results."})}):e.jsx(Is,{rows:p,onRowClick:_e,height:Math.max(220,k.height-280)})]})]}),!r&&e.jsx(x,{onPointerDown:Ge,sx:{position:"absolute",bottom:6,right:6,width:16,height:16,cursor:"nwse-resize",borderRight:"2px solid",borderBottom:"2px solid",borderColor:"divider",opacity:.6,"&:hover":{opacity:1}}})]})}):e.jsx(O,{elevation:6,sx:{position:"fixed",bottom:20,right:160,zIndex:1900},children:e.jsx(N,{onClick:m,title:"Open IDS Checker",children:e.jsx(ge,{})})})};export{Ps as default};
