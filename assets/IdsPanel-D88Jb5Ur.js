import{cm as a,co as e,cH as Ge,cF as _,cp as x,cq as m,cs as W,cI as Ue,cJ as qe,cK as we,cM as Xe,cN as ge,cr as I,cA as T,dk as Je,cT as Ye,d4 as se,d6 as Ke,d7 as te,d8 as le,dl as Ze,dm as Qe,dn as R,cG as es,dp as je,dq as Ie,dr as ss,cD as ts,ds as ye,cO as ls,cn as as,dt as ns,du as be,dv as Se,dw as is,cP as os,dx as rs,dy as cs,dz as Ce,dA as Pe,dc as O,dB as ds,cL as us}from"./vendor-NpE_gqg9.js";import{u as hs,b as y,i as xs}from"./index-DgR5XBC7.js";import"./thatopen-vendor-byvyd1e5.js";import"./three-vendor-kQcUiZz9.js";const v=o=>{if(o==null)return"";const f=/[",\n]/.test(o),h=o.replace(/"/g,'""');return f?`"${h}"`:h},ve=o=>new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),Le=(o,f)=>{const{includePassed:h=!0,includeNA:t=!0}=f??{},D=o.filter(r=>r.status==="FAILED"?!0:r.status==="PASSED"?h:r.status==="NA"?t:!0),$="RuleId,RuleTitle,Status,GlobalId,IfcClass,Property,Expected,Actual,Reason",N=D.map(r=>[v(r.ruleId),v(r.ruleTitle),v(r.status),v(r.globalId),v(r.ifcClass),v(r.propertyPath),v(r.expected),v(r.actual),v(r.reason)].join(",")),E=[$,...N].join(`\r
`);return new Blob([E],{type:"text/csv;charset=utf-8;"})},ms=`<ids:ids xmlns:ids="http://standards.buildingsmart.org/IDS">
  <ids:specification ifcVersion="IFC4" name="Walls must have FireRating">
    <ids:applicability minOccurs="0" maxOccurs="unbounded">
      <ids:entity>
        <ids:name>
          <ids:simpleValue>IFCWALL</ids:simpleValue>
        </ids:name>
      </ids:entity>
    </ids:applicability>
    <ids:requirements>
      <ids:property cardinality="required">
        <ids:propertySet>
          <ids:simpleValue>Pset_WallCommon</ids:simpleValue>
        </ids:propertySet>
        <ids:baseName>
          <ids:simpleValue>FireRating</ids:simpleValue>
        </ids:baseName>
      </ids:property>
    </ids:requirements>
  </ids:specification>
  <ids:specification ifcVersion="IFC4" name="Pipes must be insulated">
    <ids:applicability minOccurs="0" maxOccurs="unbounded">
      <ids:entity>
        <ids:name>
          <ids:simpleValue>IFCFLOWSEGMENT</ids:simpleValue>
        </ids:name>
      </ids:entity>
    </ids:applicability>
    <ids:requirements>
      <ids:property cardinality="required">
        <ids:propertySet>
          <ids:simpleValue>Insulation</ids:simpleValue>
        </ids:propertySet>
        <ids:baseName>
          <ids:simpleValue>Insulation Type</ids:simpleValue>
        </ids:baseName>
        <ids:allowedValues>
          <ids:values>
            <ids:value>
              <ids:simpleValue>-V19</ids:simpleValue>
            </ids:value>
            <ids:value>
              <ids:simpleValue>Mineral Wool</ids:simpleValue>
            </ids:value>
          </ids:values>
        </ids:allowedValues>
      </ids:property>
    </ids:requirements>
  </ids:specification>
</ids:ids>`,fs={PASSED:"success.light",FAILED:"error.light",NA:"warning.light"},ps={PASSED:"Passed",FAILED:"Failed",NA:"N/A"},gs={IDLE:"Idle",BUILDING_PROPERTIES:"Collecting element data",CHECKING_IDS:"Compiling IDS rules",COMPARING_DATA:"Validating elements",FINALIZING:"Finalizing report",DONE:"Done",ERROR:"Error"},js={IDLE:"default",BUILDING_PROPERTIES:"info",CHECKING_IDS:"primary",COMPARING_DATA:"warning",FINALIZING:"secondary",DONE:"success",ERROR:"error"},G=(o,f=2e3)=>{const h=[];for(let t=0;t<o.length;t+=f)h.push(o.slice(t,t+f));return h},X=(o,f)=>{const h=URL.createObjectURL(o),t=document.createElement("a");t.href=h,t.download=f,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(h)},Is=({rows:o,height:f=360,rowHeight:h=44,onRowClick:t})=>{const D=a.useRef(null),[$,N]=a.useState(0),E=o.length*h,r=6,V=Math.ceil(f/h)+r,k=Math.max(0,Math.floor($/h)-r),J=Math.min(o.length,k+V),b=o.slice(k,J),z=a.useCallback(()=>{const l=D.current;l&&N(l.scrollTop)},[]);return a.useEffect(()=>{const l=D.current;if(l)return l.addEventListener("scroll",z,{passive:!0}),()=>l.removeEventListener("scroll",z)},[z]),e.jsx(x,{ref:D,sx:{position:"relative",height:f,overflowY:"auto",border:"1px solid",borderColor:"divider",borderRadius:1,backgroundColor:"background.paper"},children:e.jsx(x,{sx:{height:E,position:"relative"},children:b.map((l,B)=>{const M=(k+B)*h;return e.jsxs(x,{sx:{position:"absolute",top:M,left:0,right:0,height:h,display:"flex",alignItems:"center",gap:1,px:1.5,borderBottom:"1px solid",borderColor:"divider",backgroundColor:fs[l.status]??"background.paper",cursor:typeof t=="function"?"pointer":"default","&:hover":{backgroundColor:"action.hover"}},onClick:()=>t?.(l),children:[e.jsx(R,{label:ps[l.status],size:"small",color:l.status==="FAILED"?"error":l.status==="PASSED"?"success":"warning"}),e.jsx(m,{variant:"body2",sx:{minWidth:120,fontWeight:600},title:l.ruleId,children:l.ruleId}),e.jsx(m,{variant:"body2",sx:{flex:1},noWrap:!0,title:l.ruleTitle,children:l.ruleTitle}),e.jsx(m,{variant:"body2",sx:{minWidth:140},noWrap:!0,title:l.globalId,children:l.globalId}),e.jsx(m,{variant:"body2",sx:{minWidth:110},noWrap:!0,title:l.ifcClass,children:l.ifcClass}),e.jsx(m,{variant:"body2",sx:{minWidth:180},noWrap:!0,title:l.propertyPath,children:l.propertyPath??"—"}),e.jsx(m,{variant:"body2",sx:{minWidth:160},noWrap:!0,title:l.expected,children:l.expected??"—"}),e.jsx(m,{variant:"body2",sx:{minWidth:160},noWrap:!0,title:l.actual,children:l.actual??"—"}),e.jsx(m,{variant:"body2",sx:{minWidth:220},noWrap:!0,title:l.reason,children:l.reason??"—"})]},`${l.ruleId}-${l.globalId}-${B}`)})})})},Ps=({isOpen:o,onOpen:f,onClose:h,viewerApi:t,hasModel:D,expandSignal:$})=>{const N=a.useRef(null),E=a.useRef(null),[r,V]=a.useState(!1),[k,J]=a.useState({width:620,height:560}),b=a.useRef(null),z=a.useRef(!1),{setIdsXmlText:l,appendDocuments:B,clearResults:M,runCheck:ae,filterRows:Y,setValidationMode:ne,cancelValidation:Re}=hs(),De=y(s=>s.idsXmlText),ie=y(s=>s.idsFileNames),oe=y(s=>s.isChecking),S=y(s=>s.phase),L=y(s=>s.progress),F=y(s=>s.rules),H=y(s=>s.rows),p=y(s=>s.filteredRows),re=y(s=>s.error),Ee=y(s=>s.validationMode),[K,Z]=a.useState("summary"),[Q,ce]=a.useState(""),[U,de]=a.useState("ALL"),[q,ue]=a.useState("ALL");a.useEffect(()=>{xs.clearOldCache().catch(s=>{console.warn("Failed to clean old cache:",s)})},[]);const g=a.useMemo(()=>({popper:{sx:{zIndex:4e3}}}),[]),ee=a.useMemo(()=>F.reduce((s,n)=>(s.pass+=n.passed.length,s.fail+=n.failed.length,s.na+=n.na.length,s),{pass:0,fail:0,na:0}),[F]),ke=S!=="IDLE",ze=gs[S],Fe=js[S];let w="indeterminate",A,j;if(S==="DONE")w="determinate",A=100,j="Complete";else if(S==="ERROR")w="determinate",A=0,j="Failed";else if(L&&L.total>0){const s=Math.min(L.done,L.total);w="determinate",A=Math.max(0,Math.min(s/L.total*100,100)),S==="BUILDING_PROPERTIES"?j=`Collecting element data: ${Math.round(A)}% (${s.toLocaleString()} / ${L.total.toLocaleString()} elements)`:S==="COMPARING_DATA"?j=`Validating: ${Math.round(A)}% (${s.toLocaleString()} / ${L.total.toLocaleString()} elements)`:j=`${s.toLocaleString()} / ${L.total.toLocaleString()}`}else oe&&(S==="BUILDING_PROPERTIES"?j="Starting element data collection…":S==="COMPARING_DATA"?j="Validating elements…":j="Working…");const Te=w==="determinate"?{variant:"determinate",value:A??0}:{variant:"indeterminate"},Ne=!!De.trim().length,Ve=a.useCallback(async s=>{const n=Array.from(s.target.files??[]);if(!n.length)return;const u=await Promise.all(n.map(i=>new Promise((c,C)=>{const d=new FileReader;d.onload=()=>c({name:i.name,content:String(d.result??"")}),d.onerror=()=>C(d.error??new Error("Failed to read IDS file.")),d.readAsText(i)})));B(u),s.target.value=""},[B]),Me=a.useCallback(()=>{l(ms.trim(),{fileNames:["Sample IDS"]}),M()},[l,M]),Ae=a.useCallback(()=>{l("",{fileNames:[]}),M()},[l,M]),We=a.useCallback(s=>{ne(s.target.value)},[ne]),Oe=a.useCallback(async()=>{t&&(await ae(t),Z("summary"))},[ae,t]),$e=a.useCallback(()=>{V(!1),h(),t&&Promise.resolve().then(async()=>{try{typeof t.clearColors=="function"&&await Promise.resolve(t.clearColors()),typeof t.clearIsolation=="function"&&await Promise.resolve(t.clearIsolation())}catch(s){console.warn("Failed to clear IDS highlights on close",s)}})},[t,h]);a.useEffect(()=>{o||(V(!1),Z("summary"))},[o]),a.useEffect(()=>{o&&V(!1)},[$,o]);const he=a.useCallback(()=>{if(!H.length){Y(null);return}const s=Q.trim().toLowerCase(),n=U==="ALL"?null:U,u=q==="ALL"?null:q;Y(i=>n&&i.status!==n||u&&i.ruleId!==u?!1:s?[i.globalId,i.ifcClass,i.propertyPath,i.expected,i.actual,i.reason,i.ruleTitle].filter(Boolean).join(" ").toLowerCase().includes(s):!0)},[H,Q,U,q,Y]);a.useEffect(()=>{const s=window.setTimeout(()=>{he()},120);return()=>window.clearTimeout(s)},[he]);const Be=a.useCallback(async s=>{if(!t)return;const n=Array.from(new Set(s.failed)),u=Array.from(new Set(s.passed)),i=n.length?n:u;console.debug(`[handleRuleHighlight] Highlighting rule: ${s.title} (failed=${n.length}, passed=${u.length})`);try{await Promise.resolve(t.clearColors()),t.clearIsolation&&await Promise.resolve(t.clearIsolation())}catch(c){console.warn("Failed to reset viewer colors before highlighting rule",c)}try{if(typeof t.color=="function"){for(const c of G(n))c.length&&await Promise.resolve(t.color(c,{r:1,g:.2,b:.2,a:1}));for(const c of G(u))c.length&&await Promise.resolve(t.color(c,{r:.2,g:.7,b:.25,a:1}))}i.length&&(typeof t.isolate=="function"&&await Promise.resolve(t.isolate(i)),typeof t.fitViewTo=="function"&&await Promise.resolve(t.fitViewTo(i)))}catch(c){console.error("Failed to highlight IDS rule",c)}},[t]);a.useCallback(async()=>{if(!t)return;const s=new Set,n=new Set,u=new Set;for(const d of F)d.passed.forEach(P=>s.add(P)),d.failed.forEach(P=>n.add(P)),d.na.forEach(P=>u.add(P));const i=Array.from(s),c=Array.from(n),C=Array.from(u);try{if(await Promise.resolve(t.clearColors()),t.clearIsolation&&await Promise.resolve(t.clearIsolation()),typeof t.color=="function"){if(c.length>0)for(const d of G(c))d.length&&await Promise.resolve(t.color(d,{r:1,g:.2,b:.2,a:1}));if(i.length>0)for(const d of G(i))d.length&&await Promise.resolve(t.color(d,{r:.2,g:.7,b:.25,a:1}));if(C.length>0)for(const d of G(C))d.length&&await Promise.resolve(t.color(d,{r:1,g:.7,b:.2,a:1}))}console.log(`Highlighted ${i.length} passed, ${c.length} failed, ${C.length} N/A elements`)}catch(d){console.error("Failed to highlight all elements by status",d)}},[t,F]);const He=a.useCallback(async s=>{if(!(!t||!s.globalId))try{typeof t.clearColors=="function"&&await Promise.resolve(t.clearColors()),typeof t.clearIsolation=="function"&&await Promise.resolve(t.clearIsolation()),typeof t.color=="function"&&await Promise.resolve(t.color([s.globalId],{r:1,g:.6,b:0,a:1})),typeof t.isolate=="function"&&await Promise.resolve(t.isolate([s.globalId])),typeof t.fitViewTo=="function"&&await Promise.resolve(t.fitViewTo([s.globalId]))}catch(n){console.error("Failed to focus element for IDS row",n)}},[t]),xe=a.useCallback((s,n)=>{const u=H.filter(C=>C.ruleId===s.id);if(!u.length)return;const i=new Date().toISOString().replace(/[:.]/g,"-"),c=`ids-rule-${s.id}-${i}`;n==="csv"?X(Le(u,{includePassed:!0,includeNA:!0}),`${c}.csv`):X(ve(u),`${c}.json`)},[H]),me=a.useCallback(s=>{if(!p.length)return;const u=`ids-details-${new Date().toISOString().replace(/[:.]/g,"-")}`;s==="csv"?X(Le(p,{includePassed:!0,includeNA:!0}),`${u}.csv`):X(ve(p),`${u}.json`)},[p]),_e=a.useCallback(s=>{s.preventDefault(),s.stopPropagation();const n=E.current;if(!n)return;b.current={startX:s.clientX,startY:s.clientY,width:n.offsetWidth,height:n.offsetHeight},z.current=!0;const u=c=>{if(!z.current||!b.current)return;const C=c.clientX-b.current.startX,d=c.clientY-b.current.startY;J(P=>{const fe=Math.max(420,b.current.width+C),pe=Math.max(360,b.current.height+d);return fe===P.width&&pe===P.height?P:{width:Math.round(fe),height:Math.round(pe)}})},i=()=>{z.current=!1,b.current=null,window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",i)};window.addEventListener("pointermove",u),window.addEventListener("pointerup",i,{once:!0})},[]);return a.useEffect(()=>{if(o)return()=>{t?.clearColors?.(),t?.clearIsolation?.()}},[o,t]),o?e.jsx(Ge,{nodeRef:E,handle:".ids-panel-header",bounds:"parent",children:e.jsxs(_,{ref:E,elevation:8,sx:{position:"fixed",top:140,right:60,width:k.width,height:r?"auto":k.height,minWidth:420,minHeight:r?120:360,maxWidth:"90vw",maxHeight:"85vh",display:"flex",flexDirection:"column",boxSizing:"border-box",overflow:"hidden",zIndex:2e3},children:[e.jsxs(x,{className:"ids-panel-header",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,py:1,backgroundColor:"primary.main",color:"primary.contrastText",cursor:"move"},children:[e.jsx(m,{variant:"subtitle1",children:"IDS Checker"}),e.jsxs(x,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(W,{size:"small",onClick:()=>V(s=>!s),color:"inherit",title:r?"Expand panel":"Minimize panel",children:r?e.jsx(Ue,{}):e.jsx(qe,{})}),e.jsx(W,{size:"small",onClick:$e,color:"inherit",title:"Close IDS Checker",children:e.jsx(we,{})})]})]}),!r&&e.jsxs(x,{sx:{flex:1,display:"flex",flexDirection:"column",p:2,gap:2,minHeight:0},children:[e.jsxs(Xe,{value:K,onChange:(s,n)=>Z(n),sx:{minHeight:"auto",".MuiTab-root":{minHeight:"auto",textTransform:"none"}},children:[e.jsx(ge,{value:"summary",label:"Summary"}),e.jsx(ge,{value:"details",label:`Details (${p.length})`})]}),K==="summary"&&e.jsxs(x,{sx:{display:"flex",flexDirection:"column",gap:2,overflow:"hidden",minHeight:0},children:[e.jsxs(x,{sx:{display:"flex",gap:1,flexWrap:"wrap",alignItems:"center"},children:[e.jsx(I,{title:"Load IDS definition files",slotProps:g,children:e.jsx(T,{variant:"contained",size:"small",startIcon:e.jsx(Je,{}),onClick:()=>N.current?.click(),children:"Load IDS File"})}),e.jsx(I,{title:"Insert a sample IDS specification",slotProps:g,children:e.jsx(T,{variant:"outlined",size:"small",onClick:Me,children:"Paste Sample"})}),e.jsx(I,{title:"Clear loaded IDS files and results",slotProps:g,children:e.jsx(T,{variant:"outlined",size:"small",color:"inherit",startIcon:e.jsx(Ye,{}),onClick:Ae,children:"Clear"})}),e.jsx("input",{ref:N,type:"file",accept:".xml,.ids",multiple:!0,style:{display:"none"},onChange:Ve}),e.jsx(x,{sx:{flex:1}}),e.jsx(se,{component:"fieldset",size:"small",children:e.jsxs(Ke,{row:!0,value:Ee,onChange:We,children:[e.jsx(te,{value:"all",control:e.jsx(le,{size:"small"}),label:"All Elements"}),e.jsx(te,{value:"visible",control:e.jsx(le,{size:"small"}),label:"Visible Only"}),e.jsx(te,{value:"selected",control:e.jsx(le,{size:"small"}),label:"Selected Only"})]})}),e.jsx(I,{title:"Validate the loaded model against IDS requirements",slotProps:g,children:e.jsx("span",{children:oe?e.jsx(T,{variant:"outlined",size:"small",color:"error",startIcon:e.jsx(Ze,{}),onClick:Re,children:"Cancel"}):e.jsx(T,{variant:"contained",size:"small",startIcon:e.jsx(Qe,{}),disabled:!Ne||!t||!D,onClick:Oe,children:"Run Check"})})})]}),ke&&e.jsxs(_,{variant:"outlined",sx:{p:1.5,display:"flex",flexDirection:"column",gap:1},children:[e.jsxs(x,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1,flexWrap:"wrap"},children:[e.jsx(R,{size:"small",label:ze,color:Fe}),j&&e.jsx(m,{variant:"caption",color:"text.secondary",children:j})]}),e.jsx(es,{...Te,sx:{height:6,borderRadius:9999}})]}),ie.length>0&&e.jsxs(_,{variant:"outlined",sx:{p:1},children:[e.jsx(m,{variant:"caption",color:"text.secondary",children:"Loaded IDS files"}),e.jsx(je,{dense:!0,children:ie.map(s=>e.jsxs(Ie,{disablePadding:!0,children:[e.jsx(ss,{sx:{minWidth:28},children:e.jsx(ts,{fontSize:"small"})}),e.jsx(ye,{primaryTypographyProps:{variant:"body2"},primary:s})]},s))})]}),re&&e.jsx(ls,{severity:"error",variant:"outlined",children:re}),e.jsxs(x,{sx:{display:"flex",gap:1},children:[e.jsx(R,{label:`Passed ${ee.pass}`,color:"success",variant:"outlined"}),e.jsx(R,{label:`Failed ${ee.fail}`,color:"error",variant:"outlined"}),e.jsx(R,{label:`N/A ${ee.na}`,color:"warning",variant:"outlined"})]}),e.jsx(_,{variant:"outlined",sx:{flex:1,overflow:"auto"},children:F.length===0?e.jsx(x,{sx:{p:2},children:e.jsx(m,{variant:"body2",color:"text.secondary",children:"Load one or more IDS XML files and run the check to see rule results."})}):e.jsx(je,{dense:!0,disablePadding:!0,children:F.map(s=>e.jsxs(as.Fragment,{children:[e.jsx(Ie,{secondaryAction:e.jsxs(x,{sx:{display:"flex",gap:1},children:[e.jsx(I,{title:"Highlight in viewer",slotProps:g,children:e.jsx("span",{children:e.jsx(W,{size:"small",onClick:()=>Be(s),children:e.jsx(ns,{fontSize:"small"})})})}),e.jsx(I,{title:"Export rule CSV",slotProps:g,children:e.jsx("span",{children:e.jsx(W,{size:"small",onClick:()=>xe(s,"csv"),children:e.jsx(be,{fontSize:"small"})})})}),e.jsx(I,{title:"Export rule JSON",slotProps:g,children:e.jsx("span",{children:e.jsx(W,{size:"small",onClick:()=>xe(s,"json"),children:e.jsx(Se,{fontSize:"small"})})})})]}),children:e.jsx(ye,{primary:e.jsxs(x,{sx:{display:"flex",flexWrap:"wrap",gap:1,alignItems:"center"},children:[e.jsx(m,{variant:"subtitle2",children:s.title}),e.jsx(R,{size:"small",label:`Pass ${s.passed.length}`,color:"success"}),e.jsx(R,{size:"small",label:`Fail ${s.failed.length}`,color:"error"}),e.jsx(R,{size:"small",label:`N/A ${s.na.length}`,color:"warning"})]}),secondary:e.jsxs(m,{variant:"caption",color:"text.secondary",children:["Rule ID: ",s.id]})})}),e.jsx(is,{component:"li"})]},s.id))})})]}),K==="details"&&e.jsxs(x,{sx:{display:"flex",flexDirection:"column",gap:1.5,flex:1,minHeight:0},children:[e.jsxs(x,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[e.jsx(os,{size:"small",value:Q,onChange:s=>ce(s.target.value),placeholder:"Search details…",InputProps:{startAdornment:e.jsx(rs,{position:"start",children:e.jsx(cs,{fontSize:"small"})})},sx:{flex:1,minWidth:160}}),e.jsxs(se,{size:"small",sx:{minWidth:120},children:[e.jsx(Ce,{children:"Status"}),e.jsxs(Pe,{value:U,label:"Status",onChange:s=>de(s.target.value),MenuProps:{sx:{zIndex:4e3}},children:[e.jsx(O,{value:"ALL",children:"All"}),e.jsx(O,{value:"FAILED",children:"Failed"}),e.jsx(O,{value:"PASSED",children:"Passed"}),e.jsx(O,{value:"NA",children:"N/A"})]})]}),e.jsxs(se,{size:"small",sx:{minWidth:160},children:[e.jsx(Ce,{children:"Rule"}),e.jsxs(Pe,{value:q,label:"Rule",onChange:s=>ue(s.target.value),MenuProps:{sx:{zIndex:4e3}},children:[e.jsx(O,{value:"ALL",children:"All rules"}),F.map(s=>e.jsx(O,{value:s.id,children:s.title},s.id))]})]}),e.jsx(I,{title:"Reset filters",slotProps:g,children:e.jsx("span",{children:e.jsx(W,{size:"small",onClick:()=>{ue("ALL"),de("ALL"),ce("")},children:e.jsx(ds,{fontSize:"small"})})})}),e.jsx(x,{sx:{flex:1}}),e.jsx(I,{title:"Download the filtered results as CSV",slotProps:g,children:e.jsx("span",{children:e.jsx(T,{variant:"outlined",size:"small",startIcon:e.jsx(be,{}),onClick:()=>me("csv"),disabled:!p.length,children:"Export CSV"})})}),e.jsx(I,{title:"Download the filtered results as JSON",slotProps:g,children:e.jsx("span",{children:e.jsx(T,{variant:"outlined",size:"small",startIcon:e.jsx(Se,{}),onClick:()=>me("json"),disabled:!p.length,children:"Export JSON"})})})]}),e.jsxs(x,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(us,{fontSize:"small",color:"action"}),e.jsxs(m,{variant:"body2",color:"text.secondary",children:["Showing ",p.length," of ",H.length," rows"]})]}),p.length===0?e.jsx(_,{variant:"outlined",sx:{p:2},children:e.jsx(m,{variant:"body2",color:"text.secondary",children:"Adjust the filters or run the IDS check to populate detailed results."})}):e.jsx(Is,{rows:p,onRowClick:He,height:Math.max(220,k.height-280)})]})]}),!r&&e.jsx(x,{onPointerDown:_e,sx:{position:"absolute",bottom:6,right:6,width:16,height:16,cursor:"nwse-resize",borderRight:"2px solid",borderBottom:"2px solid",borderColor:"divider",opacity:.6,"&:hover":{opacity:1}}})]})}):null};export{Ps as default};
